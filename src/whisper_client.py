from pathlib import Path
from typing import Optional
from openai import OpenAI

from utils import normalize_text_simple


class WhisperClient:
    """–ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Whisper API."""

    def __init__(self, api_url: str, api_key: str, model_name: str = "stt"):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ Whisper.

        Args:
            api_url: URL API —Å–µ—Ä–≤–µ—Ä–∞
            api_key: API –∫–ª—é—á
            model_name: –ò–º—è –º–æ–¥–µ–ª–∏ Whisper
        """
        self.client = OpenAI(api_key=api_key, base_url=api_url)
        self.model_name = model_name

    def transcribe(self, audio_file_path: Path) -> str:
        """
        –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ —Ñ–∞–π–ª.

        Args:
            audio_file_path: –ü—É—Ç—å –∫ –∞—É–¥–∏–æ —Ñ–∞–π–ª—É (FLAC)

        Returns:
            str: –¢–µ–∫—Å—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

        Raises:
            Exception: –ü—Ä–∏ –æ—à–∏–±–∫–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
        """
        with open(audio_file_path, "rb") as audio_file:
            transcription = self.client.audio.transcriptions.create(
                model=self.model_name, file=audio_file, response_format="json"
            )

        return transcription.text


class LLMNormalizer:
    """
    –ö–ª–∞—Å—Å –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ LLM.

    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
    - temperature: –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0.0-2.0)
    - top_k: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ç–æ–∫–µ–Ω–æ–≤
    - top_p: nucleus sampling
    - max_tokens: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
    """

    # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
    DEFAULT_SYSTEM_PROMPT = """
## –ó–ê–î–ê–ß–ê
–Ø –≤—ã–ø–æ–ª–Ω—è—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ (TTS).

## –†–û–õ–¨
–Ø ‚Äî –º–æ–¥–µ–ª—å-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä. –ú–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –Ω–µ—Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (—Ü–∏—Ñ—Ä—ã, —Å–∏–º–≤–æ–ª—ã, –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã) –≤ –∏—Ö –ø–æ–ª–Ω–æ–µ —Å–ª–æ–≤–µ—Å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –Ø –¥–µ–π—Å—Ç–≤—É—é —Å—Ç—Ä–æ–≥–æ –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∞ –Ω–µ –∫–∞–∫ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç.

## –ì–õ–ê–í–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò
**1. –ó–ê–ü–†–ï–¢ –ù–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø**
–ú–Ω–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä–æ–≤–∞—Ç—å, —Å–æ–∫—Ä–∞—â–∞—Ç—å, –¥–æ–ø–æ–ª–Ω—è—Ç—å –∏–ª–∏ –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ. –Ø —Ä–∞–±–æ—Ç–∞—é —Ç–æ–ª—å–∫–æ —Å —Ñ–æ—Ä–º–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –Ω–æ –Ω–µ —Å–æ —Å–º—ã—Å–ª–æ–º.

**2. –†–ê–°–ö–†–´–¢–ò–ï –ù–ï–°–¢–ê–ù–î–ê–†–¢–ù–´–• –°–õ–û–í**
–Ø –ø—Ä–µ–æ–±—Ä–∞–∑—É—é —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –ø–æ–ª–Ω—ã–µ —Å–ª–æ–≤–∞, —É—á–∏—Ç—ã–≤–∞—è –ø–∞–¥–µ–∂, —Ä–æ–¥ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
*   **–ß–∏—Å–ª–∞:** `5 –∫–≥` -> `–ø—è—Ç—å –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤`.
*   **–î–∞—Ç—ã:** `01.05.2025` -> `–ø–µ—Ä–≤–æ–≥–æ –º–∞—è –¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –ø—è—Ç–æ–≥–æ –≥–æ–¥–∞`.
*   **–°–∏–º–≤–æ–ª—ã –∏ –≤–∞–ª—é—Ç—ã:** `$100` -> `—Å—Ç–æ –¥–æ–ª–ª–∞—Ä–æ–≤`, `+7` -> `–ø–ª—é—Å —Å–µ–º—å`.
*   **–°–æ–∫—Ä–∞—â–µ–Ω–∏—è:** `–≥. –ú–æ—Å–∫–≤–∞` -> `–≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞`, `—Ç. –µ.` -> `—Ç–æ –µ—Å—Ç—å`.

**3. –û–ë–†–ê–ë–û–¢–ö–ê –£–î–ê–†–ï–ù–ò–ô (–û–ú–û–ì–†–ê–§–´)**
–í —Å–ª–æ–≤–∞—Ö —Å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º —É–¥–∞—Ä–µ–Ω–∏–µ–º (–æ–º–æ–≥—Ä–∞—Ñ–∞—Ö) —è –æ–ø—Ä–µ–¥–µ–ª—è—é –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. –Ø –æ—Ç–º–µ—á–∞—é —É–¥–∞—Ä–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–º `+` —Å—Ç—Ä–æ–≥–æ **—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ** —É–¥–∞—Ä–Ω–æ–π –≥–ª–∞—Å–Ω–æ–π.
*   *–ü—Ä–∏–º–µ—Ä:* `–∑+–∞–º–æ–∫` (—Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ) –∏ `–∑–∞–º+–æ–∫` (–∑–∞–ø–æ—Ä).
*   *–ü—Ä–∏–º–µ—Ä:* `—Å—Ç+–æ—è—Ç` (—Ü–µ–Ω–∞) –∏ `—Å—Ç–æ+—è—Ç` (–Ω–∞ –Ω–æ–≥–∞—Ö).

**4. –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ë–£–ö–í–´ ¬´–Å¬ª (–Å–§–ò–ö–ê–¶–ò–Ø)**
–ï—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –Ω–∞–ø–∏—Å–∞–Ω–∞ –±—É–∫–≤–∞ `–µ`, –Ω–æ –ø–æ —Å–º—ã—Å–ª—É –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—é –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `—ë`, —è –∑–∞–º–µ–Ω—è—é `–µ` –Ω–∞ `—ë`. –Ø –∏—Å–ø–æ–ª—å–∑—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Å–º—ã—Å–ª–∞.
*   *–ü—Ä–∏–º–µ—Ä:* `–ú—ã –≤—Å–µ –µ—â–µ –∂–¥–µ–º` -> `–ú—ã –≤—Å—ë –µ—â—ë –∂–¥—ë–º`.
*   *–ü—Ä–∏–º–µ—Ä:* `–í—Å–µ –ª—é–¥–∏` -> `–í—Å–µ –ª—é–¥–∏` (–∑–¥–µ—Å—å `–µ` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è).

**5. –ü–£–ù–ö–¢–£–ê–¶–ò–Ø**
–Ø —Å–æ—Ö—Ä–∞–Ω—è—é –≤—Å—é –∏—Å—Ö–æ–¥–Ω—É—é –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é (—Ç–æ—á–∫–∏, –∑–∞–ø—è—Ç—ã–µ, —Ç–∏—Ä–µ, –∫–∞–≤—ã—á–∫–∏) –Ω–∞ —Å–≤–æ–∏—Ö –∏—Å—Ö–æ–¥–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.

## –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´
**–í—Ö–æ–¥—è—â–∏–π —Ç–µ–∫—Å—Ç:**
`–í 2024 –≥. —è –∫—É–ø–∏–ª 2 –∑–∞–º–∫–∞ –¥–ª—è –¥–æ–º–∞ –Ω–∞ —É–ª. –õ–µ–Ω–∏–Ω–∞, 5–∞ –∑–∞ $100. –í—Å–µ –µ—â–µ –∂–¥—É –¥–æ—Å—Ç–∞–≤–∫—É.`

**–ú–æ–π –æ—Ç–≤–µ—Ç:**
`–í –¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å —á–µ—Ç–≤—ë—Ä—Ç–æ–º –≥–æ–¥+—É —è –∫—É–ø–∏–ª –¥–≤–∞ –∑–∞–º–∫+–∞ –¥–ª—è –¥+–æ–º–∞ –Ω–∞ +—É–ª–∏—Ü–µ –õ+–µ–Ω–∏–Ω–∞ –ø+—è—Ç—å –∞ –∑–∞ —Å—Ç–æ –¥+–æ–ª–ª–∞—Ä–æ–≤. –í—Å—ë –µ—â—ë –∂–¥—É –¥–æ—Å—Ç–∞–≤–∫—É.`
"""
    system_prompt: str

    def __init__(
        self,
        api_url: str,
        api_key: str,
        model_name: str = "llm",
        system_prompt: Optional[str] = None,
        temperature: float = 0.3,
        top_p: float = 0.9,
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LLM –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.

        Args:
            api_url: URL API —Å–µ—Ä–≤–µ—Ä–∞ (—Ç–æ—Ç –∂–µ —á—Ç–æ –∏ –¥–ª—è Whisper)
            api_key: API –∫–ª—é—á
            model_name: –ò–º—è LLM –º–æ–¥–µ–ª–∏
            system_prompt: –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
            temperature: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (0.0-2.0)
                - 0.0-0.3: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —Ç–æ—á–Ω—ã–π
                - 0.3-0.7: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
                - 0.7-1.0: –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π
                - 1.0-2.0: –û—á–µ–Ω—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
            top_p: Top-P (nucleus) sampling (0.0-1.0)

        """
        self.client = OpenAI(api_key=api_key, base_url=api_url)
        self.system_prompt = (
            system_prompt if system_prompt is not None else self.DEFAULT_SYSTEM_PROMPT
        )
        self.model_name = model_name
        self.temperature = temperature
        self.top_p = top_p

    def normalize(self, raw_text: str) -> str:
        """
        –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ LLM.

        Args:
            raw_text: –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—Ç Whisper

        Returns:
            str: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

        Raises:
            Exception: –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
        """
        try:
            response = self.client.chat.completions.create(
                model=self.model_name,
                messages=[
                    {"role": "system", "content": self.system_prompt},
                    {"role": "user", "content": raw_text},
                ],
                temperature=self.temperature,  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞—Ç—Ä–∏–±—É—Ç –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
                top_p=self.top_p,
            )

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –æ—Ç–≤–µ—Ç –Ω–µ –ø—É—Å—Ç–æ–π
            content = response.choices[0].message.content

            if content is None or content == "":
                print("‚ö†Ô∏è  LLM –≤–µ—Ä–Ω—É–ª –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç")
                return normalize_text_simple(raw_text)

            normalized = content.strip()
            return normalized

        except Exception as e:
            # –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
            print(f"‚ö†Ô∏è  LLM –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å: {e}")
            print("   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è")
            return normalize_text_simple(raw_text)

    def set_system_prompt(self, prompt: str) -> None:
        """
        –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç.

        Args:
            prompt: –ù–æ–≤—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
        """
        self.system_prompt = prompt


class TranscriptionService:
    """
    –°–µ—Ä–≤–∏—Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π LLM –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π.

    –û–±—ä–µ–¥–∏–Ω—è–µ—Ç Whisper –∏ LLM –≤ –µ–¥–∏–Ω—ã–π pipeline.
    """

    def __init__(
        self,
        whisper_client: WhisperClient,
        llm_normalizer: Optional[LLMNormalizer] = None,
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞.

        Args:
            whisper_client: –ö–ª–∏–µ–Ω—Ç Whisper
            llm_normalizer: LLM –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        """
        self.whisper = whisper_client
        self.llm = llm_normalizer

    def process(self, audio_file_path: Path) -> tuple[str, Optional[str]]:
        """
        –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ —Ñ–∞–π–ª: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è.

        Args:
            audio_file_path: –ü—É—Ç—å –∫ –∞—É–¥–∏–æ —Ñ–∞–π–ª—É

        Returns:
            tuple: (raw_text, normalized_text)
                   normalized_text –±—É–¥–µ—Ç None –µ—Å–ª–∏ LLM –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
        """
        # –®–∞–≥ 1: –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper
        print("üöÄ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper...")
        raw_text = self.whisper.transcribe(audio_file_path)

        # –®–∞–≥ 2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
        normalized_text = None
        if self.llm is not None:
            print("ü§ñ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM...")
            normalized_text = self.llm.normalize(raw_text)
        else:
            # –ü—Ä–æ—Å—Ç–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
            normalized_text = normalize_text_simple(raw_text)

        return raw_text, normalized_text


# –ü—Ä–∏–º–µ—Ä—ã –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

PODCAST_PROMPT = """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –ø–æ–¥–∫–∞—Å—Ç–∞.

–ó–∞–¥–∞—á–∏:
1. –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
2. –†–∞—Å—Å—Ç–∞–≤—å –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é
3. –£–¥–∞–ª–∏ –º–µ–∂–¥–æ–º–µ—Ç–∏—è –∏ –ø–∞—É–∑—ã (—ç–º, –º–º, –Ω—É –≤–æ—Ç)
4. –°–æ—Ö—Ä–∞–Ω–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π —Å—Ç–∏–ª—å
5. –†–∞–∑–±–µ–π –Ω–∞ –∞–±–∑–∞—Ü—ã –ø–æ —Å–º—ã—Å–ª–æ–≤—ã–º –±–ª–æ–∫–∞–º

–í—ã–≤–æ–¥–∏ –¢–û–õ–¨–ö–û –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç."""

AUDIOBOOK_PROMPT = """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏.

–ó–∞–¥–∞—á–∏:
1. –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è –∏ –∫–∞–≤—ã—á–∫–∏ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
3. –°–æ—Ö—Ä–∞–Ω–∏ –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å
4. –†–∞–∑–±–µ–π –Ω–∞ –∞–±–∑–∞—Ü—ã
5. –ù–ï —É–¥–∞–ª—è–π –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

–í—ã–≤–æ–¥–∏ –¢–û–õ–¨–ö–û –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç."""

LECTURE_PROMPT = """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –ª–µ–∫—Ü–∏–∏.

–ó–∞–¥–∞—á–∏:
1. –ò—Å–ø—Ä–∞–≤—å —Ç–µ—Ä–º–∏–Ω—ã –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ª–µ–∫—Å–∏–∫—É
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –ø–æ —Ç–µ–∑–∏—Å–∞–º
3. –£–¥–∞–ª–∏ –ø–æ–≤—Ç–æ—Ä—ã –∏ —Ä–µ—á–µ–≤–æ–π –º—É—Å–æ—Ä
4. –°–æ—Ö—Ä–∞–Ω–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
5. –î–æ–±–∞–≤—å —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å–º—ã—Å–ª–æ–≤—ã–µ –±–ª–æ–∫–∏

–í—ã–≤–æ–¥–∏ –¢–û–õ–¨–ö–û –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç."""
