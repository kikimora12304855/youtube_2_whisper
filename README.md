# YouTube-2-Whisper üéôÔ∏è

**YouTube-2-Whisper** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –∏–ª–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π. –°–∫—Ä–∏–ø—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —Å YouTube (–∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ FLAC 24kHz) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —á–µ—Ä–µ–∑ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper, OpenAI API –∏–ª–∏ runpod).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   üì• **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YouTube –∏ –¥—Ä—É–≥–∏—Ö –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ `yt-dlp`.
*   ‚úÇÔ∏è **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å –∫–∞–∫ –≤–∏–¥–µ–æ —Ü–µ–ª–∏–∫–æ–º, —Ç–∞–∫ –∏ —Ç–æ—á–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ç—Ä–µ–∑–æ–∫.
*   üéöÔ∏è **–ê—É–¥–∏–æ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (Loudnorm) –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –º–æ–Ω–æ FLAC (24kHz) –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –º–æ–¥–µ–ª—è–º–∏ –æ–±—É—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, VITS/Bert-VITS).
*   ü§ñ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** –ú–∞—Å—Ç–µ—Ä –ø–µ—Ä–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
*   üìÑ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–ø–∏–∫–µ—Ä–µ, —Ç–∞–π–º–∏–Ω–≥–∞—Ö, –∏—Å—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏.
*   üÜî **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SHA256 —Ö–µ—à–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–µ–π.

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

1.  **Python 3.8+**
2.  **FFmpeg** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PATH).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
sudo apt update

sudo apt install ffmpeg
```
```


```bash
sudo pacman -Syu

sudo pacman -S ffmpeg
```

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤–≤–µ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `.env`.

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤—Ä—É—á–Ω—É—é –≤ –æ–¥–Ω–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
1. –í —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ —Å–∫—Ä–∏–ø—Ç–∞.
2. `~/.config/youtube-2-whisper/.env`
3. `~/.youtube-2-whisper/.env`

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ `.env`:**

```ini
WHISPER_API_URL=http://localhost:8000/v1
WHISPER_API_KEY=sk-12345  # –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –ª—é–±–æ–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
WHISPER_MODEL_NAME=large-v3
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
python main.py URL [START] [END] [OPTIONS]
```

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã

*   `URL`: –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ).
*   `START`: –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ). –§–æ—Ä–º–∞—Ç—ã: `45` (—Å–µ–∫), `1:30` (–º–∏–Ω:—Å–µ–∫), `1:20:05` (—á:–º:—Å).
*   `END`: –í—Ä–µ–º—è –∫–æ–Ω—Ü–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

### –û–ø—Ü–∏–∏ (–§–ª–∞–≥–∏)

*   `-l`, `--lang`: –Ø–∑—ã–∫ –∞—É–¥–∏–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ru-RU`).
*   `-t`, `--type`: –¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (`youtube`, `podcast`, `audiobook`, `dataset`).
*   `-d`, `--description`: –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ (–¥–ª—è –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ TTS).
*   `-o`, `--output-dir`: –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

***

### –ü—Ä–∏–º–µ—Ä—ã

**1. –°–∫–∞—á–∞—Ç—å –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ —Ü–µ–ª–∏–∫–æ–º:**
```bash
python main.py "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
```

**2. –°–∫–∞—á–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å 1-–π –ø–æ 3-—é –º–∏–Ω—É—Ç—É:**
```bash
python main.py "https://www.youtube.com/watch?v=dQw4w9WgXcQ" 1:00 3:00
```

**3. –°–∫–∞—á–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞–ø–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –≥–æ–ª–æ—Å–∞:**
```bash
python main.py "https://youtu.be/example" 10 25 \
  -o ./my_dataset \
  -d "–ñ–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å, —Å–ø–æ–∫–æ–π–Ω—ã–π —Ç–µ–º–±—Ä, –∞—É–¥–∏–æ–∫–Ω–∏–≥–∞"
```

## üìÇ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
1.  `filename.flac` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∞—É–¥–∏–æ.
2.  `filename.json` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ç–µ–∫—Å—Ç.

**–ü—Ä–∏–º–µ—Ä JSON:**

```json
{
  "id": "a1b2c3d4...", // SHA256 —Ö–µ—à (VideoID + Start + End)
  "lang": "ru-RU",
  "text": {
    "raw": "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å.",
    "normalized": "–ø—Ä–∏–≤–µ—Ç –º–∏—Ä —ç—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å"
  },
  "source": {
    "type": "youtube",
    "id": "dQw4w9WgXcQ",
    "segment_sec": {
      "start": 60.0,
      "end": 180.0,
      "duration_sec": 120.0
    }
  },
  "speaker": {
    "id": "UCuAXFkgsw1L7xaCfnd5JJOw", // ID –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ –∞–≤—Ç–æ—Ä–∞
    "voice_description": "–ì–æ–ª–æ—Å: unknown..." // –í–∞—à–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  }
}
```

## üõ† –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**–û—à–∏–±–∫–∞: `ffprobe/ffmpeg not found`**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.
*   *Windows:* –°–∫–∞—á–∞–π—Ç–µ —Å–±–æ—Ä–∫—É, —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ `bin` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã (Path).
*   *Linux:* `sudo apt install ffmpeg`
*   *macOS:* `brew install ffmpeg`

**–û—à–∏–±–∫–∞: `–ù–µ —É–∫–∞–∑–∞–Ω—ã WHISPER_API_URL`**
–°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—à–µ–ª —Ñ–∞–π–ª `.env`. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∏ –æ–Ω –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ, –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é:
```bash
export WHISPER_API_URL='...'
export WHISPER_API_KEY='...'
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

- [GPL-3.0 license](https://github.com/kikimora12304855/youtube_2_whisper#GPL-3.0-1-ov-file)
